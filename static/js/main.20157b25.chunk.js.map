{"version":3,"sources":["Active.js","InfoBox.js","util.js","Map.js","Table.js","Graph.js","ThemeSwitch.js","GlobalStyles.js","Theme.js","App.js","index.js"],"names":["Active","className","InfoBox","title","cases","total","colorClass","active","props","Card","onClick","CardContent","Typography","color","casesSeverityColors","hex","multiplier","recovered","deaths","graphColors","backgroundColor","borderColor","sortData","data","sortedData","sort","a","b","prettyPrintStat","stat","numeral","format","Map","countries","casesType","center","zoom","bounds","lat","lng","minZoom","maxZoom","maxBoundsViscosity","maxBounds","TileLayer","url","attribution","map","country","index","Circle","countryInfo","long","fillOpacity","fillColor","radius","Math","sqrt","key","Popup","style","backgroundImage","flag","showDataOnMap","Table","options","legend","display","elements","point","maintainAspectRatio","tooltips","mode","intersect","callbacks","label","tooltipItem","value","scales","xAxes","type","time","displayFormats","month","yAxes","gridLines","ticks","callback","values","buildChartData","lastDataPoint","chartData","date","newDataPoint","x","y","push","Graph","useState","setData","useEffect","fetch","then","res","json","fetchData","length","datasets","setGraphColors","ThemeSwitch","isChecked","onChange","FormControlLabel","control","Switch","checked","GlobalStyles","createGlobalStyle","theme","body","text","lightTheme","toggleBorder","background","darkTheme","App","setCountries","setCountry","setCountryInfo","tableData","setTableData","mapCenter","setMapCenter","mapZoom","setMapZoom","mapCountries","setMapCountries","setCasesType","setIsChecked","setTheme","console","log","getGlobalData","localTheme","window","localStorage","getItem","setItem","name","iso2","handleCountryChange","e","countryCode","target","FormControl","Select","variant","MenuItem","todayCases","todayRecovered","todayDeaths","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.20157b25.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Active.css'\r\n\r\nfunction Active({ className }) {\r\n    return (\r\n        <div className={`active ${className}`} >\r\n            <div className='glow'></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Active;\r\n","import React from 'react';\r\nimport { Card, CardContent, Typography } from '@material-ui/core';\r\nimport Active from './Active';\r\nimport './InfoBox.css'\r\n\r\nfunction InfoBox({ title, cases, total, colorClass, active, ...props }) {\r\n\r\n    return (\r\n        <Card className={`infoBox ${colorClass}`} onClick={props.onClick}>\r\n            <CardContent>\r\n                <Typography className=\"infoBox-title\" color=\"textSecondary\">{title}</Typography>\r\n                <h2 className={`infoBox-cases`}>{cases}</h2>\r\n                <h5 className=\"total-label\">Total</h5>\r\n                <Typography className=\"infoBox-total\" color=\"textSecondary\">{total}</Typography>\r\n                <Active className={active ? `${colorClass}-selected` : ''} />\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default InfoBox\r\n","import React from 'react';\r\nimport numeral from 'numeral';\r\nimport { Circle, Popup } from 'react-leaflet';\r\nimport { Line } from 'react-chartjs-2';\r\n\r\nconst casesSeverityColors = {\r\n    cases: {\r\n        hex: \"#ff6a3c\",\r\n        multiplier: 800,\r\n    },\r\n    recovered: {\r\n        hex: \"#41db4b\",\r\n        multiplier: 1200,\r\n    },\r\n    deaths: {\r\n        hex: \"#b40224\",\r\n        multiplier: 2000,\r\n    }\r\n};\r\n\r\nconst graphColors = {\r\n    cases: {\r\n        backgroundColor: 'rgba(255, 106, 60, .5)',\r\n        borderColor: 'rgba(255, 106, 60, 1)',\r\n    },\r\n    recovered: {\r\n        backgroundColor: 'rgba(65, 219, 75, .5)',\r\n        borderColor: 'rgba(65, 219, 75, 1)',\r\n    },\r\n    deaths: {\r\n        backgroundColor: 'rgba(180, 2, 36, .5)',\r\n        borderColor: 'rgba(180, 2, 36, 1)',\r\n    }\r\n}\r\n\r\n//Sort countries by cases\r\nexport const sortData = data => {\r\n    const sortedData = [...data];\r\n\r\n    sortedData.sort((a, b) => {\r\n        return a.cases > b.cases ? -1 : 1\r\n    });\r\n    return sortedData;\r\n};\r\n\r\nexport const prettyPrintStat = (stat) => {\r\n    return stat ? `+${numeral(stat).format(\"0.0a\")}` : \"+0\";\r\n}\r\n\r\nexport const showDataOnMap = (data, casesType = 'cases') => (\r\n    data.map((country, index) => (\r\n        <Circle\r\n            center={[country.countryInfo.lat, country.countryInfo.long]}\r\n            fillOpacity={0.4}\r\n            color={casesSeverityColors[casesType].hex}\r\n            fillColor={casesSeverityColors[casesType].hex}\r\n            radius={\r\n                Math.sqrt(country[casesType]) * casesSeverityColors[casesType].multiplier\r\n            }\r\n            key={index}\r\n        >\r\n            <Popup>\r\n                <div className=\"info-container\">\r\n                    <div\r\n                        className=\"info-flag\"\r\n                        style={{ backgroundImage: `url(${country.countryInfo.flag})` }}\r\n                    />\r\n                    <div className=\"info-name\">{country.country}</div>\r\n                    <div className=\"info-confirmed\">\r\n                        Cases: {numeral(country.cases).format(\"0,0\")}\r\n                    </div>\r\n                    <div className=\"info-recovered\">\r\n                        Recovered: {numeral(country.recovered).format(\"0,0\")}\r\n                    </div>\r\n                    <div className=\"info-deaths\">\r\n                        Deaths: {numeral(country.deaths).format(\"0,0\")}\r\n                    </div>\r\n                </div>\r\n            </Popup>\r\n        </Circle>\r\n    ))\r\n);\r\n\r\nexport const setGraphColors = (data, options, casesType) => {\r\n    return (<Line\r\n        data={{\r\n            datasets: [\r\n                {\r\n                    backgroundColor: graphColors[casesType].backgroundColor,\r\n                    borderColor: graphColors[casesType].borderColor,\r\n                    data: data\r\n                },\r\n            ],\r\n        }}\r\n        options={options}\r\n    />)\r\n};","import React from 'react';\r\nimport './Map.css';\r\nimport { Map as LeafletMap, TileLayer } from 'react-leaflet';\r\nimport { showDataOnMap } from './util';\r\n\r\nconst Map = ({ countries, casesType, center, zoom }) => {\r\n\r\n    const southWest = { lat: -89.98155760646617, lng: -180 }\r\n    const northEast = { lat: 89.99346179538875, lng: 180 }\r\n    const bounds = [southWest, northEast];\r\n\r\n    return (\r\n        <div className=\"map\">\r\n            <LeafletMap center={center} zoom={zoom} minZoom={1} maxZoom={5} maxBoundsViscosity={0} maxBounds={bounds} >\r\n                <TileLayer\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                />\r\n                {showDataOnMap(countries, casesType)}\r\n            </LeafletMap>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Map;\r\n","import React from 'react';\r\nimport numeral from 'numeral';\r\nimport './Table.css';\r\n\r\nfunction Table({ countries }) {\r\n    return (\r\n        <div className=\"table\">\r\n            {countries.map(({ country, cases }, index) => (\r\n                <tr key={index}>\r\n                    <td>{country}</td>\r\n                    <td>\r\n                        <strong>{numeral(cases).format(\"0,0\")}</strong>\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState, useEffect } from 'react';\r\nimport numeral from 'numeral';\r\nimport { setGraphColors } from './util';\r\n\r\nconst options = {\r\n    legend: {\r\n        display: false,\r\n    },\r\n    elements: {\r\n        point: {\r\n            radius: 0,\r\n        },\r\n    },\r\n    maintainAspectRatio: false,\r\n    tooltips: {\r\n        mode: \"index\",\r\n        intersect: false,\r\n        callbacks: {\r\n            label: function (tooltipItem, data) {\r\n                return numeral(tooltipItem.value).format(\"+0,0\");\r\n            },\r\n        },\r\n    },\r\n    scales: {\r\n        xAxes: [\r\n            {\r\n                type: \"time\",\r\n                time: {\r\n                    displayFormats: {\r\n                        month: \"MMM YYYY\"\r\n                    }\r\n                },\r\n            },\r\n        ],\r\n        yAxes: [\r\n            {\r\n                gridLines: {\r\n                    display: false,\r\n                },\r\n                ticks: {\r\n                    callback: function (value, index, values) {\r\n                        return numeral(value).format(\"0a\");\r\n                    },\r\n                },\r\n            },\r\n        ],\r\n    },\r\n};\r\n\r\nconst buildChartData = (data, casesType) => {\r\n    const chartData = [];\r\n    let lastDataPoint;\r\n\r\n    for (let date in data.cases) {\r\n        if (lastDataPoint) {\r\n            let newDataPoint = {\r\n                x: date,\r\n                y: data[casesType][date] - lastDataPoint\r\n            }\r\n            chartData.push(newDataPoint);\r\n        }\r\n        lastDataPoint = data[casesType][date];\r\n    }\r\n    return chartData;\r\n};\r\n\r\nfunction Graph({ casesType, ...props }) {\r\n    const [data, setData] = useState({});\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            await fetch('https://disease.sh/v3/covid-19/historical/all?lastdays=120')\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    let chartData = buildChartData(data, casesType);\r\n                    setData(chartData);\r\n                });\r\n        }\r\n        fetchData();\r\n    }, [casesType]);\r\n\r\n    return (\r\n        <div className={props.className}>\r\n            {data?.length > 0 && setGraphColors(data, options, casesType)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Graph\r\n","import React from 'react';\r\nimport { FormControlLabel, Switch } from '@material-ui/core';\r\n\r\n\r\nfunction ThemeSwitch({ isChecked, onChange }) {\r\n    return (\r\n        <div className=\"switch\">\r\n            < FormControlLabel\r\n                control={< Switch\r\n                    checked={isChecked}\r\n                    onChange={onChange}\r\n                />}\r\n                label={isChecked ? 'Dark Mode' : 'Light Mode'}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ThemeSwitch;\r\n","import { createGlobalStyle } from \"styled-components\"\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  body {\r\n    margin: 0;\r\n    background: ${({ theme }) => theme.body};\r\n    color: ${({ theme }) => theme.text};\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Ubuntu', 'Roboto', 'Segoe UI', sans-serif;\r\n    transition: all 0.50s linear;\r\n  }\r\n  `\r\n","export const lightTheme = {\r\n    body: '#eaeaea',\r\n    text: '#363537',\r\n    toggleBorder: '#eaeaea',\r\n    background: '#363537',\r\n}\r\nexport const darkTheme = {\r\n    body: '#363537',\r\n    text: '#FAFAFA',\r\n    toggleBorder: '#6B8096',\r\n    background: '#999',\r\n}","import { FormControl, MenuItem, Select, Card, CardContent } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport InfoBox from './InfoBox';\nimport Map from './Map';\nimport Table from './Table';\nimport Graph from './Graph';\nimport ThemeSwitch from './ThemeSwitch';\nimport { sortData, prettyPrintStat } from './util';\nimport { ThemeProvider } from \"styled-components\";\nimport { GlobalStyles } from \"./GlobalStyles\";\nimport { lightTheme, darkTheme } from \"./Theme\"\nimport \"leaflet/dist/leaflet.css\"\nimport '../src/App.css';\n\nfunction App() {\n  const [countries, setCountries] = useState([]);\n  const [country, setCountry] = useState('Worldwide');\n  const [countryInfo, setCountryInfo] = useState({});\n  const [tableData, setTableData] = useState([]);\n  const [mapCenter, setMapCenter] = useState({ lat: 34.80746, lng: 30.4796 });\n  const [mapZoom, setMapZoom] = useState(3);\n  const [mapCountries, setMapCountries] = useState([]);\n  const [casesType, setCasesType] = useState('cases');\n  const [isChecked, setIsChecked] = useState(false);\n  const [theme, setTheme] = useState('light');\n\n  //Get worldwide data\n  useEffect(() => {\n    fetch('https://disease.sh/v3/covid-19/all')\n      .then(res => res.json())\n      .then(data => {\n        setCountryInfo(data);\n        console.log('%cAPI_WORLD_INFO', 'background-color:#008B8B; font-size: 2rem; color:white;', data);\n      });\n  }, []);\n\n\n  //Get countries\n  useEffect(() => {\n    getGlobalData();\n  }, []);\n\n  //Get latest theme from localstorage\n  useEffect(() => {\n    let localTheme = window.localStorage.getItem('theme');\n    if (localTheme) {\n      setTheme(localTheme);\n      localTheme === 'light' ? setIsChecked(false) : setIsChecked(true);\n    } else {\n      setTheme('light');\n      setIsChecked(false);\n      window.localStorage.setItem('theme', 'light');\n    }\n  }, []);\n\n  //API Call to get the data for all the countries\n  const getGlobalData = async () => {\n    await fetch('https://disease.sh/v3/covid-19/countries')\n      .then(res => res.json())\n      .then(data => {\n        const countries = data.map(country => (\n          {\n            name: country.country,\n            value: country.countryInfo.iso2\n          }\n        ));\n\n        const sortedData = sortData(data);\n        setTableData(sortedData);\n        setMapCountries(data);\n        setCountries(countries);\n      });\n  };\n\n  const handleCountryChange = async (e) => {\n    const countryCode = e.target.value;\n    setCountry(countryCode);\n\n    const url = countryCode === 'Worldwide' ? 'https://disease.sh/v3/covid-19/all' : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\n\n    //Call the data of the selected country\n    await fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        setCountry(countryCode);\n        setCountryInfo(data);\n        if (countryCode !== 'Worldwide') {\n          setMapCenter([data.countryInfo.lat, data.countryInfo.long]);\n          setMapZoom(4);\n        } else {\n          setMapCenter({ lat: 34.80746, lng: -40.4796 });\n          setMapZoom(2);\n        }\n        console.log(`%cAPI_${data.country}_INFO`, 'background-color:#DC143C; font-size: 2rem; color:white;', data);\n      })\n  };\n\n\n  // @TODO LOCK MAP INTO POSITION\n  // @TODO FIRST COUNTRY SELECTION BUG\n  // @FIX MOBILE VIEW\n\n\n  const themeToggler = () => {\n    theme === 'light' ? setTheme('dark') : setTheme('light');\n    setIsChecked(!isChecked);\n\n    if (!isChecked) {\n      console.log('Dark');\n      window.localStorage.setItem('theme', 'dark');\n    } else {\n      console.log('Light');\n      window.localStorage.setItem('theme', 'light');\n    }\n  }\n\n  return (\n    <ThemeProvider theme={theme === 'light' ? lightTheme : darkTheme}>\n      <>\n        <GlobalStyles />\n        <div className='app'>\n          <div className=\"app-left\">\n            <div className=\"app-header\">\n              <h1>COVID-19 UPDATE</h1>\n              <ThemeSwitch isChecked={isChecked} onChange={themeToggler} />\n              <FormControl className=\"app-dropdown\">\n                <Select variant=\"outlined\" value={country} onChange={handleCountryChange}>\n                  <MenuItem value='Worldwide'>Worldwide</MenuItem>\n                  {countries.map((country, index) => (\n                    <MenuItem value={country.value} key={index}>{country.name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </div>\n            <div className=\"app-stats\">\n              <InfoBox title=\"Cases\" cases={prettyPrintStat(countryInfo.todayCases)} total={prettyPrintStat(countryInfo.cases)} onClick={e => setCasesType('cases')}\n                active={casesType === 'cases'} colorClass='orange'></InfoBox>\n              <InfoBox title=\"Recovered\" cases={prettyPrintStat(countryInfo.todayRecovered)} total={prettyPrintStat(countryInfo.recovered)} onClick={e => setCasesType('recovered')}\n                active={casesType === 'recovered'} colorClass='green'></InfoBox>\n              <InfoBox title=\"Deaths\" cases={prettyPrintStat(countryInfo.todayDeaths)} total={prettyPrintStat(countryInfo.deaths)} onClick={e => setCasesType('deaths')}\n                active={casesType === 'deaths'} colorClass='red'></InfoBox>\n            </div>\n\n            <Map\n              casesType={casesType}\n              countries={mapCountries}\n              center={mapCenter}\n              zoom={mapZoom}\n            />\n          </div>\n          <Card className=\"app-right\">\n            <CardContent>\n              <h3>Live Cases by Country</h3>\n              <Table countries={tableData} />\n              <h3 className=\"app-graphTitle\" >Worldwide new {casesType} </h3>\n              <Graph className=\"app-graph\" casesType={casesType} colorClass={['orange', 'green', 'red']} />\n            </CardContent>\n          </Card>\n        </div>\n      </>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}